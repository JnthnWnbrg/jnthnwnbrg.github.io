<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<title>nixBoard</title>
	<link rel="stylesheet" href="css/style.css" />
	<script type="text/javascript" src="js/go.js"></script>
	<script type="text/javascript" src="js/play.js"></script>
	<script type="text/javascript" src="js/config.js"></script>
</head>

<body>
  <div>
    <canvas id="weiqi" width="600" height="600"></canvas>
    <canvas id="path" width="600" height="600"></canvas>
  <button onclick="setTimeout(myFunction, 60000);">1min timer</button>
  <button onclick="setInterval(contRand, 200);">continuous random</button>
  <button onclick="makeRandomMove();">random move</button>
  <button onclick="pass();">pass</button>
  <button id="move_show" type="button">move_show 显示手数</button>
  Messages:<text id="message"></text></br>
  </div>
  
	<script>
	  function myFunction() {
	      alert('time up');
	  }


	  var prevPlayerPassed=false;
	  var stepCounter=0;
	  function fullReset(){
	      document.getElementById("message").innerHTML = "New game!";
	      stepCounter=0;
	      move_count=0;
	      prevPlayerPassed=false;
	      reset();
	      showPan();
	  }
	  
	  function pass() {
	      document.getElementById("message").innerHTML = "move"+move_count+" passed";
	      move_count++;
	      if(prevPlayerPassed){
		  setTimeout(fullReset(),300);
	      }
	      prevPlayerPassed=true;
	  }

	  function makeRandomMove() {
	      var row, colu, color;
		  color=move_count%2+1;
	      do {
		  if(Math.random()>0.99){
		      pass();//leave eyes
		      return;
		  }else{
		      row = Math.floor(Math.random()*19);
		      colu = Math.floor(Math.random()*19);
		  }
	      }while(pan[row][colu] != 0);// || !eat_your_way_out(row,colu,color));
	      //if these spaces are not empty or it's linked suicide
	      //(individual suicide will be ignored by play() in the first place)

	      play(row, colu, move_count);
		  
	      showPan();
	  }
	  
	  var limit = 500;
	  //random needs time to capture //361 places //realistic game is 200;

	  function contRand() {
	      if (stepCounter<limit) {
		  makeRandomMove();
		  stepCounter++;
	      } else {
		  fullReset();
	      }
	  }
	</script>

  

</body>
</html>
